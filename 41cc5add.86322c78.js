(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{153:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return o})),t.d(n,"metadata",(function(){return p})),t.d(n,"rightToc",(function(){return l})),t.d(n,"default",(function(){return s}));var a=t(2),r=t(9),i=(t(0),t(200)),o={id:"ioutils",title:"ioUtils.jl",sidebar_label:"ioUtils.jl"},p={id:"api/ioutils",title:"ioUtils.jl",description:"determine_marker",source:"@site/docs/api/ioUtils.md",permalink:"/PopGen.jl/docs/api/ioutils",editUrl:"https://github.com/pdimens/popgen.jl/edit/documentation/docs/api/ioUtils.md",lastUpdatedAt:1591319017,sidebar_label:"ioUtils.jl",sidebar:"docs",previous:{title:"Heterozygosity.jl",permalink:"/PopGen.jl/docs/api/heterozygosity"},next:{title:"Manipulate.jl",permalink:"/PopGen.jl/docs/api/manipulate"}},l=[{value:"<code>determine_marker</code>",id:"determine_marker",children:[]},{value:"<code>find_ploidy</code>",id:"find_ploidy",children:[]},{value:"<code>phase</code>",id:"phase",children:[]},{value:"<code>unphase</code>",id:"unphase",children:[]}],c={rightToc:l};function s(e){var n=e.components,t=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},c,t,{components:n,mdxType:"MDXLayout"}),Object(i.b)("h3",{id:"determine_marker"},Object(i.b)("inlineCode",{parentName:"h3"},"determine_marker")),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-julia"}),"determine_marker(geno_parse::T, digits::Int) where T<:AbstractDataFrame\n")),Object(i.b)("p",null,"Return either ",Object(i.b)("inlineCode",{parentName:"p"},"Int8")," or ",Object(i.b)("inlineCode",{parentName:"p"},"Int16")," depending on largest allelic\nvalue in all genotypes in the first 10 samples of an input\nDataFrame (or all the samples if less than 10 samples).\nIf the largest allele is 11 or greater, the marker will be\nconsidered a Microsatellite and coded in ",Object(i.b)("inlineCode",{parentName:"p"},"PopData")," as ",Object(i.b)("inlineCode",{parentName:"p"},"Int16"),",\nand the opposite is true for SNPs. There's no specific reason\n10 was chosen other than it being a reasonable buffer for edge\ncases since SNP data <= 4, and haplotyped data could be a bit\nhigher. Even if the microsatellite markers are coded\nincorrectly, there will be zero impact to performance,\nand considering how few microsatellite markers are used in\ntypical studies, the effect on in-memory size should be\nnegligible (as compared to SNPs)."),Object(i.b)("h3",{id:"find_ploidy"},Object(i.b)("inlineCode",{parentName:"h3"},"find_ploidy")),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-julia"}),"find_ploidy(genotypes::T where T<:SubArray)\n")),Object(i.b)("p",null,"Used internally in the ",Object(i.b)("inlineCode",{parentName:"p"},"genepop")," and ",Object(i.b)("inlineCode",{parentName:"p"},"delimited")," file parsers to scan the genotypes of a sample and return the ploidy of the first non-missing locus."),Object(i.b)("h3",{id:"phase"},Object(i.b)("inlineCode",{parentName:"h3"},"phase")),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-julia"}),"phase(loc::Union{String, Int}, type::DataType, digit::Int)\n")),Object(i.b)("p",null,"Takes a String of numbers or Integer and returns a typed locus\nappropriate for PopGen.jl as used in the ",Object(i.b)("inlineCode",{parentName:"p"},"genepop")," and ",Object(i.b)("inlineCode",{parentName:"p"},"csv"),"\nfile parsers. Use ",Object(i.b)("inlineCode",{parentName:"p"},"type")," to specify output type (",Object(i.b)("inlineCode",{parentName:"p"},"Int8")," or\n",Object(i.b)("inlineCode",{parentName:"p"},"Int16"),"), and ",Object(i.b)("inlineCode",{parentName:"p"},"digit")," to specify the number of digits/\ncharacters used per allele in a locus."),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Example")),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-julia"}),'ph_locus = phase("128114", Int16, 3)\nmap(i -> phase(i, Int16, 3), ["112131", "211112", "001003", "516500"])\n# or #\n[phase(i, Int8, 2) for i in ["0101", "0103", "0202", "0103"]]\n')),Object(i.b)("h3",{id:"unphase"},Object(i.b)("inlineCode",{parentName:"h3"},"unphase")),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-julia"}),"unphase(geno::T; digits::Int = 3) where T <: Genotype\n")),Object(i.b)("p",null,"Takes a ",Object(i.b)("inlineCode",{parentName:"p"},"Genotype")," (e.g. ",Object(i.b)("inlineCode",{parentName:"p"},"(131, 94)"),") and returns a string of concatenated\nalleles padded with ",Object(i.b)("em",{parentName:"p"},"n")," number of zeroes, where ",Object(i.b)("em",{parentName:"p"},"n")," is given by ",Object(i.b)("inlineCode",{parentName:"p"},"digits = "),".\n",Object(i.b)("inlineCode",{parentName:"p"},"missing")," values are returned as ",Object(i.b)("inlineCode",{parentName:"p"},'"-9"'),"."),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Example")),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-julia"}),'unphase((1,2,3,4), digits = 3)\n"001002003004"\n\nunphase(missing, digits = 2)\n"-9"\n')))}s.isMDXComponent=!0},200:function(e,n,t){"use strict";t.d(n,"a",(function(){return d})),t.d(n,"b",(function(){return m}));var a=t(0),r=t.n(a);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var c=r.a.createContext({}),s=function(e){var n=r.a.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):p(p({},n),e)),t},d=function(e){var n=s(e.components);return r.a.createElement(c.Provider,{value:n},e.children)},b={inlineCode:"code",wrapper:function(e){var n=e.children;return r.a.createElement(r.a.Fragment,{},n)}},u=r.a.forwardRef((function(e,n){var t=e.components,a=e.mdxType,i=e.originalType,o=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=s(t),u=a,m=d["".concat(o,".").concat(u)]||d[u]||b[u]||i;return t?r.a.createElement(m,p(p({ref:n},c),{},{components:t})):r.a.createElement(m,p({ref:n},c))}));function m(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var i=t.length,o=new Array(i);o[0]=u;var p={};for(var l in n)hasOwnProperty.call(n,l)&&(p[l]=n[l]);p.originalType=e,p.mdxType="string"==typeof e?e:a,o[1]=p;for(var c=2;c<i;c++)o[c]=t[c];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,t)}u.displayName="MDXCreateElement"}}]);